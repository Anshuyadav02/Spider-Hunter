<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Spider Hunt Game</title>

<style>
*{margin:0;padding:0;box-sizing:border-box}
html,body{
    width:100%;
    height:100%;
    overflow:hidden;
    touch-action:none;
    overscroll-behavior:none;
    cursor:none;
    font-family:Arial, sans-serif;
}
body{
    background:radial-gradient(ellipse at bottom,#1b2735 0%,#090a0f 100%);
}

/* STARS */
.stars{position:fixed;inset:0;pointer-events:none;z-index:1}
.star{
    position:absolute;
    width:2px;height:2px;
    background:white;border-radius:50%;
    animation:twinkle 3s infinite;
}
@keyframes twinkle{
    0%,100%{opacity:.3}
    50%{opacity:1}
}

/* UI */
.game-ui{
    position:fixed;
    top:20px;
    left:50%;
    transform:translateX(-50%);
    z-index:1000;
}
.score-board{
    background:rgba(0,0,0,.7);
    color:white;
    padding:14px 35px;
    border-radius:25px;
    font-size:20px;
    box-shadow:0 0 20px rgba(255,107,107,.6);
}
.score{color:#ff6b6b;font-weight:bold}

/* ===== OLD SPIDER DESIGN ===== */
.spider{
    position:fixed;
    width:30px;
    height:30px;
    pointer-events:none;
    z-index:9999;
}
.spider-body{
    position:absolute;
    width:20px;
    height:20px;
    background:radial-gradient(circle,#ff6b6b,#8b0000);
    border-radius:50%;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    box-shadow:0 0 12px rgba(255,107,107,.8);
}
.spider-head{
    position:absolute;
    width:12px;
    height:12px;
    background:radial-gradient(circle,#ff8787,#6b0000);
    border-radius:50%;
    top:-8px;
    left:50%;
    transform:translateX(-50%);
}
.eye{
    position:absolute;
    width:3px;height:3px;
    background:white;border-radius:50%;
    top:4px;
}
.eye.left{left:3px}
.eye.right{right:3px}

/* Legs */
.leg{
    position:absolute;
    width:2px;
    height:25px;
    background:linear-gradient(to bottom,#ff6b6b,#4a0000);
    transform-origin:top;
    animation:legMove .5s ease-in-out infinite alternate;
}
@keyframes legMove{
    from{transform:rotate(var(--a))}
    to{transform:rotate(calc(var(--a) + 10deg))}
}
.leg1{left:-14px;top:2px;--a:-45deg}
.leg2{left:-17px;top:8px;--a:-65deg}
.leg3{left:-17px;top:14px;--a:-80deg}
.leg4{left:-14px;top:20px;--a:-95deg}
.leg5{right:-14px;top:2px;--a:45deg}
.leg6{right:-17px;top:8px;--a:65deg}
.leg7{right:-17px;top:14px;--a:80deg}
.leg8{right:-14px;top:20px;--a:95deg}

/* Insects */
.insect,.bomb{
    position:fixed;
    font-size:30px;
    z-index:50;
    animation:fly 2s infinite alternate;
}
@keyframes fly{
    from{transform:translateY(0)}
    to{transform:translateY(-20px)}
}
.bomb{filter:drop-shadow(0 0 10px red)}

/* Web */
.web-dot{
    position:fixed;
    width:4px;height:4px;
    background:white;
    border-radius:50%;
    animation:fade 1s forwards;
    z-index:9998;
}
@keyframes fade{
    to{opacity:0;transform:scale(0)}
}

/* Explosion */
.explosion{
    position:fixed;
    font-size:90px;
    animation:boom 1s forwards;
    z-index:10000;
}
@keyframes boom{
    from{transform:scale(0);opacity:1}
    to{transform:scale(2);opacity:0}
}

/* Game Over */
.game-over{
    position:fixed;
    inset:0;
    background:black;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    color:white;
    z-index:10001;
}
.game-over h1{
    font-size:4rem;
    color:#ff4444;
}
.final-score{
    font-size:2rem;
    margin:20px;
    color:#4ade80;
}
.restart-btn{
    padding:15px 40px;
    font-size:18px;
    border:none;
    border-radius:30px;
    background:linear-gradient(135deg,#667eea,#764ba2);
    color:white;
    cursor:pointer;
}

/* Responsive */
@media(max-width:768px){
    .score-board{font-size:16px;padding:10px 20px}
    .game-over h1{font-size:2.5rem}
}
</style>
</head>

<body>

<div class="stars" id="stars"></div>

<div class="game-ui">
    <div class="score-board">
        Score: <span class="score" id="score">0</span> |
        Time: <span class="score" id="timer">50</span>s
    </div>
</div>

<div class="spider" id="spider">
    <div class="spider-head">
        <div class="eye left"></div>
        <div class="eye right"></div>
    </div>
    <div class="spider-body"></div>
    <div class="leg leg1"></div><div class="leg leg2"></div>
    <div class="leg leg3"></div><div class="leg leg4"></div>
    <div class="leg leg5"></div><div class="leg leg6"></div>
    <div class="leg leg7"></div><div class="leg leg8"></div>
</div>

<script>
const spider=document.getElementById("spider");
const scoreEl=document.getElementById("score");
const timerEl=document.getElementById("timer");

let mouseX=innerWidth/2, mouseY=innerHeight/2;
let spiderX=mouseX, spiderY=mouseY;
let score=0, timeLeft=50;
const targetScore=400;
let gameOver=false;

/* Stars */
for(let i=0;i<150;i++){
    const s=document.createElement("div");
    s.className="star";
    s.style.left=Math.random()*100+"%";
    s.style.top=Math.random()*100+"%";
    document.getElementById("stars").appendChild(s);
}

/* Timer */
const timer=setInterval(()=>{
    if(gameOver)return;
    timeLeft--;
    timerEl.textContent=timeLeft;
    if(timeLeft<=0) endGame(score>=targetScore);
},1000);

/* Spawn */
const insects=["ü¶ü","üêù","üêû","ü™≤","ü¶ó"];
setInterval(spawn,1500);

function spawn(){
    if(gameOver)return;
    const el=document.createElement("div");
    const bomb=Math.random()<0.25;
    el.className=bomb?"bomb":"insect";
    el.textContent=bomb?"üí£":insects[Math.floor(Math.random()*insects.length)];
    el.dataset.type=bomb?"bomb":"insect";
    el.style.left=Math.random()*(innerWidth-40)+"px";
    el.style.top=Math.random()*(innerHeight-40)+"px";
    document.body.appendChild(el);

    const check=setInterval(()=>{
        if(!el.parentElement||gameOver){clearInterval(check);return;}
        const r=el.getBoundingClientRect();
        if(Math.abs(spiderX-r.left)<25 && Math.abs(spiderY-r.top)<25){
            if(el.dataset.type==="bomb"){
                explode(r.left,r.top);
                endGame(false);
            }else{
                score+=10;
                scoreEl.textContent=score;
                el.remove();
                if(score>=targetScore) endGame(true);
            }
            clearInterval(check);
        }
    },50);

    setTimeout(()=>el.remove(),4000);
}

/* Explosion */
function explode(x,y){
    const e=document.createElement("div");
    e.className="explosion";
    e.textContent="üí•";
    e.style.left=x+"px";
    e.style.top=y+"px";
    document.body.appendChild(e);
    setTimeout(()=>e.remove(),1000);
}

/* End Game */
function endGame(win){
    if(gameOver)return;
    gameOver=true;
    clearInterval(timer);

    /* SHOW CURSOR AFTER GAME OVER */
    document.body.style.cursor="auto";
    document.documentElement.style.cursor="auto";

    spider.style.display="none";

    const g=document.createElement("div");
    g.className="game-over";
    g.innerHTML=`
        <h1>${win?"üèÜ YOU WIN":"üí£ GAME OVER"}</h1>
        <div class="final-score">Score: ${score}</div>
        <button class="restart-btn" onclick="location.reload()">Play Again</button>
    `;
    document.body.appendChild(g);
}

/* Move */
document.addEventListener("mousemove",e=>{
    mouseX=e.clientX; mouseY=e.clientY;
    web(mouseX,mouseY);
});
document.addEventListener("touchmove",e=>{
    e.preventDefault();
    mouseX=e.touches[0].clientX;
    mouseY=e.touches[0].clientY;
    web(mouseX,mouseY);
},{passive:false});

function animate(){
    spiderX+=(mouseX-spiderX)*0.15;
    spiderY+=(mouseY-spiderY)*0.15;
    spider.style.left=spiderX+"px";
    spider.style.top=spiderY+"px";
    requestAnimationFrame(animate);
}
animate();

/* Web */
function web(x,y){
    const d=document.createElement("div");
    d.className="web-dot";
    d.style.left=x+"px";
    d.style.top=y+"px";
    document.body.appendChild(d);
    setTimeout(()=>d.remove(),1000);
}
</script>

</body>
</html>
